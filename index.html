<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CenterDev - Windows</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="1920" height="1080"><defs><linearGradient id="g" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23667eea"/><stop offset="100%" style="stop-color:%23764ba2"/></linearGradient></defs><rect width="1920" height="1080" fill="url(%23g)"/></svg>') center/cover;
            height: 100vh;
            overflow: hidden;
        }

        /* Desktop Icons */
        .desktop {
            padding: 20px;
            height: calc(100vh - 48px);
            overflow: auto;
        }

        .desktop-icon {
            width: 80px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            user-select: none;
            transition: background 0.2s;
            padding: 8px;
            border-radius: 4px;
        }

        .desktop-icon:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .desktop-icon img {
            width: 48px;
            height: 48px;
            margin-bottom: 5px;
        }

        .desktop-icon span {
            color: white;
            font-size: 12px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            display: block;
        }

        /* Taskbar */
        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 48px;
            background: rgba(243, 243, 243, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            padding: 0 8px;
            z-index: 10000;
            box-shadow: 0 -1px 5px rgba(0, 0, 0, 0.1);
        }

        .start-button {
            width: 48px;
            height: 48px;
            background: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            border-radius: 4px;
        }

        .start-button:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        .start-button svg {
            width: 24px;
            height: 24px;
            fill: #000;
        }

        .search-box {
            flex: 1;
            max-width: 300px;
            height: 32px;
            margin: 0 8px;
            background: white;
            border: 1px solid #d1d1d1;
            border-radius: 4px;
            padding: 0 12px;
            font-size: 13px;
        }

        .taskbar-apps {
            display: flex;
            gap: 2px;
            margin-left: 8px;
        }

        .taskbar-app {
            height: 40px;
            min-width: 40px;
            padding: 0 12px;
            background: transparent;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            font-size: 13px;
            color: #000;
        }

        .taskbar-app:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        .taskbar-app.active {
            background: rgba(0, 120, 212, 0.1);
            border-bottom: 2px solid #0078d4;
        }

        .system-tray {
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 0 8px;
        }

        .system-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 4px;
            transition: background 0.2s;
        }

        .system-icon:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        .clock {
            padding: 0 8px;
            font-size: 12px;
            text-align: right;
            line-height: 1.3;
            cursor: pointer;
            border-radius: 4px;
            transition: background 0.2s;
        }

        .clock:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        /* Windows */
        .window {
            position: absolute;
            background: white;
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            display: none;
            min-width: 400px;
            min-height: 300px;
        }

        .window.active {
            display: block;
            z-index: 1000;
        }

        .window.minimized {
            display: none;
        }

        .window.maximized {
            width: 100vw !important;
            height: calc(100vh - 48px) !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            border-radius: 0;
        }

        .window-titlebar {
            height: 40px;
            background: white;
            display: flex;
            align-items: center;
            padding: 0 16px;
            cursor: move;
            user-select: none;
            border-bottom: 1px solid #f0f0f0;
        }

        .window-icon {
            width: 16px;
            height: 16px;
            margin-right: 8px;
        }

        .window-title {
            flex: 1;
            font-size: 12px;
            color: #000;
        }

        .window-controls {
            display: flex;
            margin-left: auto;
        }

        .window-control {
            width: 46px;
            height: 40px;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
            font-size: 10px;
            color: #000;
        }

        .window-control:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        .window-control.close:hover {
            background: #e81123;
            color: white;
        }

        .window-content {
            height: calc(100% - 40px);
            overflow: auto;
            background: white;
        }

        /* Login Screen */
        .login-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 40px;
            text-align: center;
        }

        .app-logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin-bottom: 20px;
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.3);
        }

        .login-container h1 {
            font-size: 28px;
            margin-bottom: 8px;
            color: #000;
            font-weight: 400;
        }

        .login-container p {
            color: #666;
            margin-bottom: 40px;
            font-size: 14px;
        }

        .discord-login {
            width: 100%;
            padding: 16px 24px;
            background: #5865F2;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            transition: all 0.3s;
        }

        .discord-login:hover {
            background: #4752C4;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(88, 101, 242, 0.4);
        }

        .discord-login svg {
            width: 24px;
            height: 24px;
        }

        /* Main App */
        .app-layout {
            display: flex;
            height: 100%;
        }

        .sidebar {
            width: 220px;
            background: #f5f5f5;
            border-right: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #ddd;
        }

        .user-info h3 {
            font-size: 14px;
            margin-bottom: 2px;
            color: #000;
            font-weight: 600;
        }

        .user-info p {
            font-size: 11px;
            color: #666;
        }

        .nav-menu {
            flex: 1;
            padding: 12px 0;
        }

        .nav-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #000;
            font-size: 14px;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: #e8e8e8;
        }

        .nav-item.active {
            background: #e8e8e8;
            border-left-color: #0078d4;
            color: #0078d4;
        }

        .nav-icon {
            font-size: 18px;
        }

        .main-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: white;
        }

        .panel-header {
            padding: 24px 32px;
            border-bottom: 1px solid #e0e0e0;
        }

        .panel-header h2 {
            font-size: 24px;
            margin-bottom: 4px;
            color: #000;
            font-weight: 400;
        }

        .panel-header p {
            font-size: 14px;
            color: #666;
        }

        .panel-content {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .card:hover {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            transform: translateY(-2px);
            border-color: #0078d4;
        }

        .card-icon {
            font-size: 32px;
            margin-bottom: 16px;
        }

        .card h3 {
            font-size: 18px;
            margin-bottom: 8px;
            color: #000;
            font-weight: 500;
        }

        .card p {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .stat-value {
            font-size: 36px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }

        .tool-panel {
            background: #f9f9f9;
            border-radius: 8px;
            padding: 24px;
            margin-top: 20px;
        }

        .tool-panel h3 {
            margin-bottom: 20px;
            color: #000;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #333;
            font-weight: 500;
        }

        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d1d1d1;
            border-radius: 4px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #0078d4;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .btn {
            padding: 10px 24px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #0078d4;
            color: white;
        }

        .btn-primary:hover {
            background: #006cbe;
        }

        .activity-feed {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .activity-item {
            background: #f5f5f5;
            padding: 16px;
            border-radius: 6px;
            border-left: 3px solid #28a745;
        }

        .activity-item.warning {
            border-left-color: #ffc107;
        }

        .activity-item.error {
            border-left-color: #dc3545;
        }

        .activity-title {
            font-weight: 500;
            margin-bottom: 4px;
            font-size: 14px;
        }

        .activity-desc {
            font-size: 13px;
            color: #666;
            margin-bottom: 4px;
        }

        .activity-time {
            font-size: 11px;
            color: #999;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #0078d4;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Desktop -->
    <div class="desktop" id="desktop">
        <div class="desktop-icon" onclick="openApp('centerdev')">
            <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; margin: 0 auto 5px; display: flex; align-items: center; justify-content: center; font-size: 24px;">üíª</div>
            <span>CenterDev</span>
        </div>
    </div>

    <!-- Taskbar -->
    <div class="taskbar">
        <button class="start-button">
            <svg viewBox="0 0 24 24">
                <path d="M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"/>
            </svg>
        </button>
        <input type="text" class="search-box" placeholder="Rechercher">
        <div class="taskbar-apps" id="taskbar-apps"></div>
        <div class="system-tray">
            <div class="system-icon">üîä</div>
            <div class="system-icon">üì∂</div>
            <div class="system-icon">üîã</div>
            <div class="clock" id="clock"></div>
        </div>
    </div>

    <!-- Login Window -->
    <div class="window active" id="login-window" style="width: 450px; height: 550px; top: 50%; left: 50%; transform: translate(-50%, -50%);">
        <div class="window-titlebar" data-window="login-window">
            <span class="window-title">CenterDev - Connexion</span>
            <div class="window-controls">
                <button class="window-control minimize" onclick="minimizeWindow('login-window')">‚Äï</button>
                <button class="window-control close" onclick="closeApp()">‚úï</button>
            </div>
        </div>
        <div class="window-content">
            <div class="login-container">
                <div class="app-logo">üíª</div>
                <h1>Bienvenue sur CenterDev</h1>
                <p>Connectez-vous avec Discord pour continuer</p>
                <button class="discord-login" onclick="loginWithDiscord()">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
                    </svg>
                    Se connecter avec Discord
                </button>
            </div>
        </div>
    </div>

    <!-- Main App Window -->
    <div class="window" id="main-window" style="width: 1100px; height: 700px; top: 50%; left: 50%; transform: translate(-50%, -50%);">
        <div class="window-titlebar" data-window="main-window">
            <span class="window-title">CenterDev - Dashboard</span>
            <div class="window-controls">
                <button class="window-control minimize" onclick="minimizeWindow('main-window')">‚Äï</button>
                <button class="window-control maximize" onclick="maximizeWindow('main-window')">‚ñ°</button>
                <button class="window-control close" onclick="closeWindow('main-window')">‚úï</button>
            </div>
        </div>
        <div class="window-content">
            <div class="app-layout">
                <div class="sidebar">
                    <div class="sidebar-header">
                        <div class="user-profile" id="user-profile">
                            <div class="loading" style="padding: 0;">
                                <div class="spinner" style="width: 20px; height: 20px; border-width: 2px;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="nav-menu">
                        <div class="nav-item active" onclick="showSection('dashboard')">
                            <span class="nav-icon">üè†</span>
                            <span>Tableau de bord</span>
                        </div>
                        <div class="nav-item" onclick="showSection('tools')">
                            <span class="nav-icon">üõ†Ô∏è</span>
                            <span>Outils</span>
                        </div>
                        <div class="nav-item" onclick="showSection('antiraid')">
                            <span class="nav-icon">üõ°Ô∏è</span>
                            <span>Anti-Raid</span>
                        </div>
                        <div class="nav-item" onclick="showSection('automod')">
                            <span class="nav-icon">ü§ñ</span>
                            <span>Auto-Mod</span>
                        </div>
                        <div class="nav-item" onclick="showSection('logger')">
                            <span class="nav-icon">üìù</span>
                            <span>Logger</span>
                        </div>
                        <div class="nav-item" onclick="showSection('tickets')">
                            <span class="nav-icon">üé´</span>
                            <span>Tickets</span>
                        </div>
                        <div class="nav-item" onclick="logout()">
                            <span class="nav-icon">üö™</span>
                            <span>D√©connexion</span>
                        </div>
                    </div>
                </div>

                <div class="main-panel">
                    <!-- Dashboard Section -->
                    <div class="content-section active" id="section-dashboard">
                        <div class="panel-header">
                            <h2>Tableau de bord</h2>
                            <p>Vue d'ensemble de votre serveur</p>
                        </div>
                        <div class="panel-content">
                            <div class="stats-grid">
                                <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                    <div class="stat-value">1,247</div>
                                    <div class="stat-label">Membres totaux</div>
                                </div>
                                <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                                    <div class="stat-value">342</div>
                                    <div class="stat-label">Messages aujourd'hui</div>
                                </div>
                                <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                                    <div class="stat-value">12</div>
                                    <div class="stat-label">Tickets ouverts</div>
                                </div>
                            </div>

                            <h3 style="margin-bottom: 16px;">Activit√© r√©cente</h3>
                            <div class="activity-feed">
                                <div class="activity-item">
                                    <div class="activity-title">‚úÖ Nouveau membre v√©rifi√©</div>
                                    <div class="activity-desc">User#1234 a √©t√© v√©rifi√© avec succ√®s</div>
                                    <div class="activity-time">Il y a 5 minutes</div>
                                </div>
                                <div class="activity-item warning">
                                    <div class="activity-title">‚ö†Ô∏è Message mod√©r√©</div>
                                    <div class="activity-desc">Message supprim√© pour contenu inappropri√©</div>
                                    <div class="activity-time">Il y a 12 minutes</div>
                                </div>
                                <div class="activity-item error">
                                    <div class="activity-title">üö´ Utilisateur banni</div>
                                    <div class="activity-desc">Spammer#5678 banni pour raid</div>
                                    <div class="activity-time">Il y a 1 heure</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tools Section -->
                    <div class="content-section" id="section-tools">
                        <div class="panel-header">
                            <h2>Outils disponibles</h2>
                            <p>S√©lectionnez un outil pour commencer</p>
                        </div>
                        <div class="panel-content">
                            <div class="card-grid">
                                <div class="card" onclick="showSection('antiraid')">
                                    <div class="card-icon">üõ°Ô∏è</div>
                                    <h3>Anti-Raid</h3>
                                    <p>Protection avanc√©e contre les raids Discord</p>
                                </div>
                                <div class="card" onclick="showSection('automod')">
                                    <div class="card-icon">ü§ñ</div>
                                    <h3>Auto-Mod√©ration</h3>
                                    <p>Mod√©ration automatique intelligente</p>
                                </div>
                                <div class="card" onclick="showSection('logger')">
                                    <div class="card-icon">üìù</div>
                                    <h3>Event Logger</h3>
                                    <p>Journalisation compl√®te des √©v√©nements</p>
                                </div>
                                <div class="card" onclick="showSection('tickets')">
                                    <div class="card-icon">üé´</div>
                                    <h3>Syst√®me de Tickets</h3>
                                    <p>Gestion du support utilisateur</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Anti-Raid Section -->
                    <div class="content-section" id="section-antiraid">
                        <div class="panel-header">
                            <h2>üõ°Ô∏è Protection Anti-Raid</h2>
                            <p>Configurez votre syst√®me de protection</p>
                        </div>
                        <div class="panel-content">
                            <div class="tool-panel">
                                <h3>Param√®tres de s√©curit√©</h3>
                                <div class="checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Activer la protection anti-raid
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> V√©rification des nouveaux membres
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Mode quarantaine automatique
                                    </label>
                                </div>

                                <h3 style="margin-top: 30px;">Seuils de d√©tection</h3>
                                <div class="form-group">
                                    <label>Membres rejoignant par minute:</label>
                                    <input type="number" value="5" min="1" max="50">
                                </div>
                                <div class="form-group">
                                    <label>Messages par seconde:</label>
                                    <input type="number" value="10" min="1" max="100">
                                </div>

                                <h3 style="margin-top: 30px;">Actions automatiques</h3>
                                <div class="checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Ban automatique des raiders
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Supprimer les messages spam
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Verrouiller les salons
                                    </label>
                                </div>

                                <button class="btn btn-primary" style="margin-top: 20px;">üíæ Sauvegarder les param√®tres</button>
                            </div>
                        </div>
                    </div>

                    <!-- Auto-Mod Section -->
                    <div class="content-section" id="section-automod">
                        <div class="panel-header">
                            <h2>ü§ñ Auto-Mod√©ration</h2>
                            <p>Configuration de la mod√©ration automatique</p>
                        </div>
                        <div class="panel-content">
                            <div class="tool-panel">
                                <h3>Filtres de contenu</h3>
                                <div class="checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Bloquer les insultes
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Bloquer les liens suspects
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Bloquer les invitations Discord
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Anti-spam
                                    </label>
                                </div>

                                <div class="form-group" style="margin-top: 30px;">
                                    <label>Mots interdits (un par ligne):</label>
                                    <textarea rows="5" placeholder="Entrez les mots interdits..."></textarea>
                                </div>

                                <h3 style="margin-top: 30px;">Sanctions</h3>
                                <div class="form-group">
                                    <label>1√®re infraction:</label>
                                    <select>
                                        <option selected>Avertissement</option>
                                        <option>Mute 10min</option>
                                        <option>Kick</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>2√®me infraction:</label>
                                    <select>
                                        <option>Mute 1h</option>
                                        <option>Mute 24h</option>
                                        <option selected>Kick</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>3√®me infraction:</label>
                                    <select>
                                        <option>Kick</option>
                                        <option selected>Ban temporaire</option>
                                        <option>Ban permanent</option>
                                    </select>
                                </div>

                                <button class="btn btn-primary" style="margin-top: 20px;">üíæ Sauvegarder les param√®tres</button>
                            </div>
                        </div>
                    </div>

                    <!-- Logger Section -->
                    <div class="content-section" id="section-logger">
                        <div class="panel-header">
                            <h2>üìù Event Logger</h2>
                            <p>Configurez la journalisation des √©v√©nements</p>
                        </div>
                        <div class="panel-content">
                            <div class="tool-panel">
                                <h3>√âv√©nements √† logger</h3>
                                <div class="checkbox-group" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                    <label class="checkbox-label"><input type="checkbox" checked> Messages supprim√©s</label>
                                    <label class="checkbox-label"><input type="checkbox" checked> Messages √©dit√©s</label>
                                    <label class="checkbox-label"><input type="checkbox" checked> Membres rejoints</label>
                                    <label class="checkbox-label"><input type="checkbox" checked> Membres partis</label>
                                    <label class="checkbox-label"><input type="checkbox" checked> Bans</label>
                                    <label class="checkbox-label"><input type="checkbox" checked> Unbans</label>
                                    <label class="checkbox-label"><input type="checkbox"> Kicks</label>
                                    <label class="checkbox-label"><input type="checkbox"> Mutes/Unmutes</label>
                                    <label class="checkbox-label"><input type="checkbox"> Modifications de r√¥les</label>
                                    <label class="checkbox-label"><input type="checkbox"> Modifications de salons</label>
                                </div>

                                <div class="form-group" style="margin-top: 30px;">
                                    <label>Canal de logs:</label>
                                    <select>
                                        <option>S√©lectionner un canal...</option>
                                        <option selected>#logs</option>
                                        <option>#mod-logs</option>
                                        <option>#audit-logs</option>
                                    </select>
                                </div>

                                <h3 style="margin-top: 30px;">Format des logs</h3>
                                <div class="checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="radio" name="format" checked> Embed riche (recommand√©)
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="radio" name="format"> Format texte simple
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="radio" name="format"> JSON pour analyse
                                    </label>
                                </div>

                                <button class="btn btn-primary" style="margin-top: 20px;">üíæ Sauvegarder les param√®tres</button>
                            </div>
                        </div>
                    </div>

                    <!-- Tickets Section -->
                    <div class="content-section" id="section-tickets">
                        <div class="panel-header">
                            <h2>üé´ Syst√®me de Tickets</h2>
                            <p>G√©rez votre syst√®me de support</p>
                        </div>
                        <div class="panel-content">
                            <div class="tool-panel">
                                <h3>Configuration g√©n√©rale</h3>
                                <div class="form-group">
                                    <label>Canal pour cr√©er des tickets:</label>
                                    <select>
                                        <option>S√©lectionner un canal...</option>
                                        <option selected>#support</option>
                                        <option>#tickets</option>
                                        <option>#help</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Cat√©gorie des tickets:</label>
                                    <select>
                                        <option selected>üé´ TICKETS</option>
                                        <option>üì© SUPPORT</option>
                                        <option>‚ùì AIDE</option>
                                    </select>
                                </div>

                                <h3 style="margin-top: 30px;">Types de tickets</h3>
                                <div style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 20px;">
                                    <div style="background: white; padding: 16px; border-radius: 6px; border: 1px solid #e0e0e0;">
                                        <strong>üí¨ Support G√©n√©ral</strong>
                                        <p style="color: #666; font-size: 13px; margin: 5px 0 0;">Pour les questions g√©n√©rales</p>
                                    </div>
                                    <div style="background: white; padding: 16px; border-radius: 6px; border: 1px solid #e0e0e0;">
                                        <strong>üêõ Signaler un bug</strong>
                                        <p style="color: #666; font-size: 13px; margin: 5px 0 0;">Pour rapporter des probl√®mes</p>
                                    </div>
                                    <div style="background: white; padding: 16px; border-radius: 6px; border: 1px solid #e0e0e0;">
                                        <strong>üí° Suggestion</strong>
                                        <p style="color: #666; font-size: 13px; margin: 5px 0 0;">Pour proposer des am√©liorations</p>
                                    </div>
                                </div>

                                <h3 style="margin-top: 30px;">R√¥les staff</h3>
                                <div class="checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> @Mod√©rateur
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> @Administrateur
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> @Support
                                    </label>
                                </div>

                                <button class="btn btn-primary" style="margin-top: 20px;">üíæ Sauvegarder les param√®tres</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuration Discord OAuth2
        const DISCORD_CONFIG = {
            clientId: '1460345858485911676',
            redirectUri: 'https://centerdev.netlify.app/',
            clientSecret: '6AvYxmH_Kji9mNLaSPd7woJ9fjD1BFJa',
            scope: 'identify email guilds'
        };

        let currentUser = null;
        let windows = {};
        let activeWindow = null;
        let zIndex = 1000;

        // Horloge syst√®me
        function updateClock() {
            const now = new Date();
            const time = now.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
            const date = now.toLocaleDateString('fr-FR', { day: '2-digit', month: '2-digit', year: 'numeric' });
            document.getElementById('clock').innerHTML = `<div>${time}</div><div style="font-size: 10px; color: #666;">${date}</div>`;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Gestion des fen√™tres
        function initWindow(windowId) {
            const win = document.getElementById(windowId);
            if (!win) return;

            windows[windowId] = {
                element: win,
                minimized: false,
                maximized: false,
                originalPos: null
            };

            // Drag and drop
            const titlebar = win.querySelector('.window-titlebar');
            let isDragging = false;
            let offset = { x: 0, y: 0 };

            titlebar.addEventListener('mousedown', (e) => {
                if (e.target.classList.contains('window-control')) return;
                if (windows[windowId].maximized) return;
                
                isDragging = true;
                const rect = win.getBoundingClientRect();
                offset.x = e.clientX - rect.left;
                offset.y = e.clientY - rect.top;
                focusWindow(windowId);
                e.preventDefault();
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging && activeWindow === windowId) {
                    const x = e.clientX - offset.x;
                    const y = e.clientY - offset.y;
                    win.style.left = x + 'px';
                    win.style.top = y + 'px';
                    win.style.transform = 'none';
                }
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });

            // Focus on click
            win.addEventListener('mousedown', () => focusWindow(windowId));
        }

        function focusWindow(windowId) {
            document.querySelectorAll('.window').forEach(w => w.classList.remove('active'));
            document.querySelectorAll('.taskbar-app').forEach(t => t.classList.remove('active'));
            
            const win = windows[windowId].element;
            win.classList.add('active');
            win.style.zIndex = ++zIndex;
            activeWindow = windowId;

            const taskbarApp = document.querySelector(`.taskbar-app[data-window="${windowId}"]`);
            if (taskbarApp) taskbarApp.classList.add('active');
        }

        function minimizeWindow(windowId) {
            const win = windows[windowId];
            win.minimized = true;
            win.element.classList.add('minimized');
            win.element.classList.remove('active');
        }

        function maximizeWindow(windowId) {
            const win = windows[windowId];
            if (win.maximized) {
                win.element.classList.remove('maximized');
                win.maximized = false;
            } else {
                win.element.classList.add('maximized');
                win.maximized = true;
            }
        }

        function closeWindow(windowId) {
            const win = windows[windowId];
            win.element.style.display = 'none';
            const taskbarApp = document.querySelector(`.taskbar-app[data-window="${windowId}"]`);
            if (taskbarApp) taskbarApp.remove();
        }

        function openApp(appName) {
            if (appName === 'centerdev') {
                document.getElementById('login-window').classList.add('active');
                focusWindow('login-window');
                addToTaskbar('login-window', 'CenterDev - Connexion');
            }
        }

        function addToTaskbar(windowId, title) {
            if (document.querySelector(`.taskbar-app[data-window="${windowId}"]`)) return;
            
            const taskbarApps = document.getElementById('taskbar-apps');
            const app = document.createElement('button');
            app.className = 'taskbar-app';
            app.dataset.window = windowId;
            app.textContent = title;
            app.onclick = () => {
                const win = windows[windowId];
                if (win.minimized) {
                    win.minimized = false;
                    win.element.classList.remove('minimized');
                    focusWindow(windowId);
                } else if (activeWindow === windowId) {
                    minimizeWindow(windowId);
                } else {
                    focusWindow(windowId);
                }
            };
            taskbarApps.appendChild(app);
        }

        // Discord OAuth2
        function loginWithDiscord() {
            const authUrl = `https://discord.com/api/oauth2/authorize?client_id=${DISCORD_CONFIG.clientId}&redirect_uri=${encodeURIComponent(DISCORD_CONFIG.redirectUri)}&response_type=code&scope=${encodeURIComponent(DISCORD_CONFIG.scope)}`;
            
            const width = 500;
            const height = 700;
            const left = (screen.width / 2) - (width / 2);
            const top = (screen.height / 2) - (height / 2);
            
            window.open(authUrl, 'Discord Login', `width=${width},height=${height},left=${left},top=${top}`);
        }

        window.addEventListener('message', async (event) => {
            if (event.origin !== window.location.origin) return;
            const { code } = event.data;
            if (!code) return;

            try {
                const tokenData = await exchangeCodeForToken(code);
                if (tokenData.access_token) {
                    const userData = await fetchUserData(tokenData.access_token);
                    currentUser = { ...userData, access_token: tokenData.access_token };
                    localStorage.setItem('discord_user', JSON.stringify(currentUser));
                    displayUserInfo(currentUser);
                    document.getElementById('login-window').classList.remove('active');
                    document.getElementById('main-window').classList.add('active');
                    focusWindow('main-window');
                    addToTaskbar('main-window', 'CenterDev - Dashboard');
                }
            } catch (error) {
                console.error('Erreur authentification:', error);
                alert('Erreur lors de la connexion Discord');
            }
        });

        async function exchangeCodeForToken(code) {
            const data = new URLSearchParams({
                client_id: DISCORD_CONFIG.clientId,
                client_secret: DISCORD_CONFIG.clientSecret,
                grant_type: 'authorization_code',
                code: code,
                redirect_uri: DISCORD_CONFIG.redirectUri
            });

            const response = await fetch('https://discord.com/api/oauth2/token', {
                method: 'POST',
                body: data,
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
            });

            if (!response.ok) throw new Error('Token exchange failed');
            return await response.json();
        }

        async function fetchUserData(accessToken) {
            const response = await fetch('https://discord.com/api/users/@me', {
                headers: { Authorization: `Bearer ${accessToken}` }
            });

            if (!response.ok) throw new Error('User fetch failed');
            return await response.json();
        }

        function displayUserInfo(user) {
            const avatarUrl = user.avatar 
                ? `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png?size=128`
                : `https://cdn.discordapp.com/embed/avatars/${parseInt(user.discriminator) % 5}.png`;

            document.getElementById('user-profile').innerHTML = `
                <img src="${avatarUrl}" class="user-avatar">
                <div class="user-info">
                    <h3>${user.username}</h3>
                    <p>En ligne</p>
                </div>
            `;
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('discord_user');
            document.getElementById('main-window').classList.remove('active');
            document.getElementById('login-window').classList.add('active');
            focusWindow('login-window');
        }

        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            document.getElementById('section-' + sectionId).classList.add('active');
            event.target.closest('.nav-item').classList.add('active');
        }

        function closeApp() {
            // Ne rien faire, juste pour le style Windows
        }

        // V√©rifier le retour OAuth
        window.addEventListener('load', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const code = urlParams.get('code');
            
            if (code) {
                if (window.opener) {
                    window.opener.postMessage({ code }, window.location.origin);
                    window.close();
                } else {
                    window.dispatchEvent(new MessageEvent('message', {
                        data: { code },
                        origin: window.location.origin
                    }));
                    window.history.replaceState({}, document.title, window.location.pathname);
                }
            }

            // V√©rifier utilisateur sauvegard√©
            const savedUser = localStorage.getItem('discord_user');
            if (savedUser) {
                try {
                    currentUser = JSON.parse(savedUser);
                    displayUserInfo(currentUser);
                    document.getElementById('login-window').classList.remove('active');
                    document.getElementById('main-window').classList.add('active');
                    focusWindow('main-window');
                    addToTaskbar('main-window', 'CenterDev - Dashboard');
                } catch (error) {
                    localStorage.removeItem('discord_user');
                }
            }

            initWindow('login-window');
            initWindow('main-window');
        });
    </script>
</body>
</html>
